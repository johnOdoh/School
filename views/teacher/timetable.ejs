<%- include('./header.ejs') %>
    <!-- /. NAV SIDE  -->
    <div id="page-wrapper">
        <div id="page-inner">
            <div class="row">
                <div class="col-md-12">
                    <h2>
                        <%= user.class + '' + user.division + ' Timetable' %>
                    </h2>
                </div>
            </div>
            <!-- /. ROW  -->
            <hr />
            <div class="row">
                <div class="col-xs-12">
                    <div class="panel panel-default">
                        <div class="panel-heading ">
                            <ul class="nav nav-pills">
                                <li class="active"><a href="#monday" data-toggle="tab">Monday</a></li>
                                <li class=""><a href="#tuesday" data-toggle="tab">Tuesday</a></li>
                                <li class=""><a href="#wednesday" data-toggle="tab">Wednesday</a></li>
                                <li class=""><a href="#thursday" data-toggle="tab">Thursday</a></li>
                                <li class=""><a href="#friday" data-toggle="tab">Friday</a></li>
                            </ul>
                        </div>
                        <div class="tab-content">
                            <div class="tab-pane fade active in" id="monday">
                                <div class="panel-body">
                                    <form action="/teacher/timetable" method="POST">
                                        <div class="table-responsive">
                                            <table class="table table-striped table-bordered table-hover" style="width: 100%;">
                                                <thead>
                                                    <tr>
                                                        <th>Start-Time</th>
                                                        <th>End-Time</th>
                                                        <th>Subject</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="mon">
                                                    <% if(timetable.monday.length !== 0) { for(let timeTable of timetable.monday) { %>
                                                        <tr>
                                                            <td>
                                                                <div class="form-group">
                                                                    <input class="form-control" type="time" name="start[]" value="<%= timeTable.startTime %>">
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <div class="form-group">
                                                                    <input class="form-control" type="time" name="end[]" value="<%= timeTable.endTime %>">
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <div class="form-group">
                                                                    <input class="form-control" type="text" name="subject[]" value="<%= timeTable.subject %>">
                                                                </div>
                                                            </td>
                                                        </tr>
                                                        <% } } else { %>
                                                            <tr>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="time" name="start[]">
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="time" name="end[]">
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="text" name="subject[]">
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="time" name="start[]">
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="time" name="end[]">
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="text" name="subject[]">
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="time" name="start[]">
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="time" name="end[]">
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="text" name="subject[]">
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <% } %>
                                                </tbody>
                                            </table>
                                            <div style="display: flex; justify-content: space-between;">
                                                <input type="hidden" name="day" value="monday">
                                                <button type="submit" class="btn btn-info">Upload</button>
                                                <div>
                                                    <button type="button" class="btn btn-warning" title="add field" onclick="create('mon')"><i class="fa fa-plus"></i></button>
                                                    <button type="button" class="btn btn-warning" title="remove field" onclick="remove('mon')"><i class="fa fa-minus"></i></button>
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="tuesday">
                                <div class="panel-body">
                                    <form action="/teacher/timetable" method="POST">
                                        <div class="table-responsive">
                                            <table class="table table-striped table-bordered table-hover" style="width: 100%;">
                                                <thead>
                                                    <tr>
                                                        <th>Start-Time</th>
                                                        <th>End-Time</th>
                                                        <th>Subject</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="tues">
                                                    <% if(timetable.tuesday.length !== 0) { for(let timeTable of timetable.tuesday) { %>
                                                        <tr>
                                                            <td>
                                                                <div class="form-group">
                                                                    <input class="form-control" type="time" name="start[]" value="<%= timeTable.startTime %>">
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <div class="form-group">
                                                                    <input class="form-control" type="time" name="end[]" value="<%= timeTable.endTime %>">
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <div class="form-group">
                                                                    <input class="form-control" type="text" name="subject[]" value="<%= timeTable.subject %>">
                                                                </div>
                                                            </td>
                                                        </tr>
                                                        <% } } else { %>
                                                            <tr>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="time" name="start[]">
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="time" name="end[]">
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="text" name="subject[]">
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="time" name="start[]">
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="time" name="end[]">
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="text" name="subject[]">
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="time" name="start[]">
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="time" name="end[]">
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="text" name="subject[]">
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <% } %>
                                                </tbody>
                                            </table>
                                            <div style="display: flex; justify-content: space-between;">
                                                <input type="hidden" name="day" value="tuesday">
                                                <button type="submit" class="btn btn-info">Upload</button>
                                                <div>
                                                    <button type="button" class="btn btn-warning" title="add field" onclick="create('tues')"><i class="fa fa-plus"></i></button>
                                                    <button type="button" class="btn btn-warning" title="remove field" onclick="remove('tues')"><i class="fa fa-minus"></i></button>
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="wednesday">
                                <div class="panel-body">
                                    <form action="/teacher/timetable" method="POST">
                                        <div class="table-responsive">
                                            <table class="table table-striped table-bordered table-hover" style="width: 100%;">
                                                <thead>
                                                    <tr>
                                                        <th>Start-Time</th>
                                                        <th>End-Time</th>
                                                        <th>Subject</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="wed">
                                                    <% if(timetable.wednesday.length !== 0) { for(let timeTable of timetable.wednesday) { %>
                                                        <tr>
                                                            <td>
                                                                <div class="form-group">
                                                                    <input class="form-control" type="time" name="start[]" value="<%= timeTable.startTime %>">
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <div class="form-group">
                                                                    <input class="form-control" type="time" name="end[]" value="<%= timeTable.endTime %>">
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <div class="form-group">
                                                                    <input class="form-control" type="text" name="subject[]" value="<%= timeTable.subject %>">
                                                                </div>
                                                            </td>
                                                        </tr>
                                                        <% } } else { %>
                                                            <tr>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="time" name="start[]">
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="time" name="end[]">
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="text" name="subject[]">
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="time" name="start[]">
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="time" name="end[]">
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="text" name="subject[]">
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="time" name="start[]">
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="time" name="end[]">
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="text" name="subject[]">
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <% } %>
                                                </tbody>
                                            </table>
                                            <div style="display: flex; justify-content: space-between;">
                                                <input type="hidden" name="day" value="wednesday">
                                                <button type="submit" class="btn btn-info">Upload</button>
                                                <div>
                                                    <button type="button" class="btn btn-warning" title="add field" onclick="create('wed')"><i class="fa fa-plus"></i></button>
                                                    <button type="button" class="btn btn-warning" title="remove field" onclick="remove('wed')"><i class="fa fa-minus"></i></button>
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="thursday">
                                <div class="panel-body">
                                    <form action="/teacher/timetable" method="POST">
                                        <div class="table-responsive">
                                            <table class="table table-striped table-bordered table-hover" style="width: 100%;">
                                                <thead>
                                                    <tr>
                                                        <th>Start-Time</th>
                                                        <th>End-Time</th>
                                                        <th>Subject</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="thurs">
                                                    <% if(timetable.thursday.length !== 0) { for(let timeTable of timetable.thursday) { %>
                                                        <tr>
                                                            <td>
                                                                <div class="form-group">
                                                                    <input class="form-control" type="time" name="start[]" value="<%= timeTable.startTime %>">
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <div class="form-group">
                                                                    <input class="form-control" type="time" name="end[]" value="<%= timeTable.endTime %>">
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <div class="form-group">
                                                                    <input class="form-control" type="text" name="subject[]" value="<%= timeTable.subject %>">
                                                                </div>
                                                            </td>
                                                        </tr>
                                                        <% } } else { %>
                                                            <tr>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="time" name="start[]">
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="time" name="end[]">
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="text" name="subject[]">
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="time" name="start[]">
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="time" name="end[]">
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="text" name="subject[]">
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="time" name="start[]">
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="time" name="end[]">
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="text" name="subject[]">
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <% } %>
                                                </tbody>
                                            </table>
                                            <div style="display: flex; justify-content: space-between;">
                                                <input type="hidden" name="day" value="thursday">
                                                <button type="submit" class="btn btn-info">Upload</button>
                                                <div>
                                                    <button type="button" class="btn btn-warning" title="add field" onclick="create('thurs')"><i class="fa fa-plus"></i></button>
                                                    <button type="button" class="btn btn-warning" title="remove field" onclick="remove('thurs')"><i class="fa fa-minus"></i></button>
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="friday">
                                <div class="panel-body">
                                    <form action="/teacher/timetable" method="POST">
                                        <div class="table-responsive">
                                            <table class="table table-striped table-bordered table-hover" style="width: 100%;">
                                                <thead>
                                                    <tr>
                                                        <th>Start-Time</th>
                                                        <th>End-Time</th>
                                                        <th>Subject</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="fri">
                                                    <% if(timetable.friday.length !== 0) { for(let timeTable of timetable.friday) { %>
                                                        <tr>
                                                            <td>
                                                                <div class="form-group">
                                                                    <input class="form-control" type="time" name="start[]" value="<%= timeTable.startTime %>">
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <div class="form-group">
                                                                    <input class="form-control" type="time" name="end[]" value="<%= timeTable.endTime %>">
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <div class="form-group">
                                                                    <input class="form-control" type="text" name="subject[]" value="<%= timeTable.subject %>">
                                                                </div>
                                                            </td>
                                                        </tr>
                                                        <% } } else { %>
                                                            <tr>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="time" name="start[]">
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="time" name="end[]">
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="text" name="subject[]">
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="time" name="start[]">
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="time" name="end[]">
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="text" name="subject[]">
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="time" name="start[]">
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="time" name="end[]">
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control" type="text" name="subject[]">
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <% } %>
                                                </tbody>
                                            </table>
                                            <div style="display: flex; justify-content: space-between;">
                                                <input type="hidden" name="day" value="friday">
                                                <button type="submit" class="btn btn-info">Upload</button>
                                                <div>
                                                    <button type="button" class="btn btn-warning" title="add field" onclick="create('fri')"><i class="fa fa-plus"></i></button>
                                                    <button type="button" class="btn btn-warning" title="remove field" onclick="remove('fri')"><i class="fa fa-minus"></i></button>
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /. PAGE INNER  -->
    </div>
    <!-- /. PAGE WRAPPER  -->
    </div>
    <!-- /. WRAPPER  -->
    <!-- SCRIPTS -AT THE BOTOM TO REDUCE THE LOAD TIME-->
    <!-- JQUERY SCRIPTS -->
    <script src="/portal/js/jquery-1.10.2.js"></script>
    <!-- BOOTSTRAP SCRIPTS -->
    <script src="/portal/js/bootstrap.min.js"></script>
    <!-- METISMENU SCRIPTS -->
    <script src="/portal/js/jquery.metisMenu.js"></script>
    <!-- CUSTOM SCRIPTS -->
    <script src="/portal/js/custom.js"></script>
    <script>
        const create = (id) => {
            const table = document.getElementById(id)
            const trow = document.createElement('tr')
            const tr = `
                    <td>
                        <div class="form-group">
                            <input class="form-control" type="time" name="start[]">
                        </div>
                    </td>
                    <td>
                        <div class="form-group">
                            <input class="form-control" type="time" name="end[]">
                        </div>
                    </td>
                    <td>
                        <div class="form-group">
                            <input class="form-control" type="text" name="subject[]">
                        </div>
                    </td>

            `
            trow.innerHTML = tr
            table.appendChild(trow)
        }
        const remove = (id) => {
            const table = document.getElementById(id),
                tr = table.querySelectorAll('tr')
            if (tr.length > 3) {
                tr[tr.length - 1].remove()
            }
        }
    </script>


    </body>

    </html>